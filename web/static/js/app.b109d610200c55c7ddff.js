webpackJsonp([1],[,,,,,,,,,,,,,,,,function(t,e,n){n(97);var s=n(15)(n(48),n(104),null,null);t.exports=s.exports},,,,,,,,,function(t,e,n){"use strict";var s=n(58),a=n.n(s),r=n(27),i=n(107),c=n(100),o=(n.n(c),n(28));r.a.use(i.a);var u={},l=["cards","conjurations","cycles","exclusives","packs"],d=function(){return a.a.all(l.map(function(t){return r.a.http.get(o.a.api_base_url+"/api/v1/"+t).then(function(e){u[t]=n.i(c.taffy)(e.body.records),console.log(t,u[t]().get())})}))};e.a={load:d,stores:u}},function(t,e,n){n(96);var s=n(15)(n(49),n(103),null,null);t.exports=s.exports},,function(t,e,n){"use strict";e.a={api_base_url:"http://ashesdb.local:8080/app_dev.php",getCardImageURL:function(t){return"http://ashesdb.local:8080/bundles/card_images/"+t.code+".jpg"}}},,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e,n){n(99);var s=n(15)(n(47),n(106),null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(16),a=n.n(s),r=n(26),i=n.n(r);e.default={name:"my-card-card",props:["card"],computed:{textLines:function(){return this.card.text.split("\n")}},components:{MyCardText:a.a,MyCardTextBlock:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(25),a=n(28),r=n(55),i=n(51),c=n(53),o=n(102),u=n.n(o);e.default={name:"my-card-list",props:["query"],data:function(){return{cards:[],currentQuery:this.query,perPage:20,totalRows:0,currentPage:1,result:[]}},watch:{currentPage:{handler:function(t){this.cards=this.result.slice((t-1)*this.perPage,t*this.perPage)}}},methods:{getCardImageURL:a.a.getCardImageURL,filter:function(){var t=r.a.parse(this.currentQuery),e=new i.a(t),n=c.a.build(e);this.result=s.a.stores.cards(n).get(),this.perPage=20,this.totalRows=this.result.length,this.currentPage=1,this.cards=this.result.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)}},created:function(){this.filter()},components:{MyCardCard:u.a}}},function(t,e,n){"use strict";function s(t){return t.replace(/\[([\w-]+)\]/g,'<span class="icon icon-$1"></span>')}function a(t){return t.replace(/ /g,'<span class="cost-separator">&#9671;</span>')}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"my-card-text",props:["text"],computed:{formattedText:function(){var t=this.text;return t.match(/^\[inexhaustible\] (.*)/)&&this.$emit("inexhaustible"),t=t.replace(/<i>(.*?)<\/i>/g,function(t,e,n,s){return a(e)}),s(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(16),a=n.n(s);e.default={name:"my-card-text-block",data:function(){return{isInexhaustible:!1}},methods:{setIsInexhaustible:function(){this.isInexhaustible=!0}},props:["text"],components:{MyCardText:a.a}}},function(t,e,n){"use strict";var s=n(6),a=n.n(s),r=n(9),i=n.n(r),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a()(this,t),this.name=e,this.type=n,this.args=s}return i()(t,[{key:"hasArgs",value:function(){return this.args.length>0}},{key:"addArg",value:function(t){this.args.push(t)}},{key:"getArg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.args.length>t)return this.args[t]}}]),t}();e.a=c},function(t,e,n){"use strict";var s=n(6),a=n.n(s),r=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"list",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;a()(this,t),this.clauses=e,this.view=n,this.sort=s,this.page=r};e.a=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(27),a=n(42),r=n(25),i=n(43),c=(n.n(i),n(44)),o=(n.n(c),n(16)),u=n.n(o),l=n(26),d=n.n(l),p=n(45),f=n.n(p);s.a.use(a.a),s.a.config.productionTip=!1,r.a.load().then(function(){new s.a({el:"#app",components:{MyCardList:f.a,MyCardTextBlock:d.a,MyCardText:u.a}})})},function(t,e,n){"use strict";var s=n(6),a=n.n(s),r=n(9),i=n.n(r),c=n(54),o=function(){function t(){a()(this,t)}return i()(t,[{key:"build",value:function(t){var e=this;return this.filter={},t.clauses.forEach(function(t){e.process(t)}),this.filter}},{key:"process",value:function(t){var e=c.a.getField(t);if(!1!==e)switch(e.type){case"string":this.filter[e.name]={likenocase:t.args};break;case"integer":this.filter[e.name]={"==":t.args};break;case"boolean":this.filter[e.name]={is:!!t.getArg()};break;case"code":this.filter[e.name]={is:t.args};break;case"join":this.filter[e.name]={has:t.args}}}}]),t}();e.a=new o},function(t,e,n){"use strict";var s=n(56),a=n.n(s),r=n(6),i=n.n(r),c=n(9),o=n.n(c),u=function(){function t(){i()(this,t),this.default={builder:"card",alias:0},this.map={"":{name:"name",type:"string",description:"Card Title"},id:{name:"code",type:"code",description:"Card Code"},x:{name:"text",type:"string",description:"Card Text"},a:{name:"attack",type:"integer",description:"Unit Attack"},l:{name:"life",type:"integer",description:"Unit Life"},r:{name:"recover",type:"integer",description:"Unit Recover"},p:{name:"packs",type:"join",description:"Prebuilt deck"},c:{name:"cycles",type:"join",description:"Category"},d:{name:"dices",type:"join",description:"Dice Code"},t:{name:"type",type:"string",description:"Card Type"},u:{name:"is_unit",type:"boolean",description:"Card Is Unit"},s:{name:"is_spell",type:"boolean",description:"Card Is Spell"},pb:{name:"is_phoenixborn",type:"boolean",description:"Card Is Phoenixborn"}}}return o()(t,[{key:"getField",value:function(t){if(null===this.map[t.name])return!1;var e=this.map[t.name];return"function"==typeof e&&(e=e(t)),a()({},this.default,e)}}]),t}();e.a=new u},function(t,e,n){"use strict";var s=n(6),a=n.n(s),r=n(9),i=n.n(r),c=n(50),o=function(){function t(){a()(this,t)}return i()(t,[{key:"saveClause",value:function(){this.list.push(this.clause)}},{key:"parse",value:function(t){return this.query=t.trim().replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/," "),this.list=[],this.clause=new c.a,this.state=1,this.findClauses()&&this.clause.hasArgs()&&this.saveClause(),this.list}},{key:"findClauses",value:function(){for(;this.query.length;)switch(this.state){case 1:this.findNameAndType();break;case 2:this.findArgument()||this.findDisjonction()||this.findConjonction()||this.findNothing();break;case 3:return!1}return!0}},{key:"findNameAndType",value:function(){this.clause.hasArgs()&&(this.saveClause(),this.clause=new c.a);var t=this.findToken("(\\w{1,2})([:<>!])");return t?(this.clause.name=t[1].toLowerCase(),this.clause.type=t[2]):(this.clause.name="",this.clause.type=":"),this.state=2,!0}},{key:"findArgument",value:function(){var t=this.findToken('"([^"]*)"')||this.findToken("([\\w\\d\\-&]+)");return!!t&&(this.clause.addArg(t[1]),!0)}},{key:"findDisjonction",value:function(){return!!this.findToken("\\|")&&(":"===this.clause.type||"!"===this.clause.type||(this.state=3),!0)}},{key:"findConjonction",value:function(){return!!this.findToken(" ")&&(this.state=1,!0)}},{key:"findNothing",value:function(){this.query=this.query.substr(1),this.state=3}},{key:"findToken",value:function(t){var e=new RegExp("^"+t+"(.*)","u"),n=this.query.match(e);return!!n&&(this.query=n.pop(),n)}}]),t}();e.a=new o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){n(98);var s=n(15)(n(46),n(105),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"card-text",class:{inexhaustible:t.isInexhaustible}},[n("my-card-text",{attrs:{text:t.text},on:{inexhaustible:t.setIsInexhaustible}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{domProps:{innerHTML:t._s(t.formattedText)}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-block"},[n("h4",{staticClass:"card-title"},[t._v(t._s(t.card.name))]),t._v(" "),n("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("\n      "+t._s(t.card.type)+"\n      "),t.card.placement?n("span",[t._v("\n        ◇ "+t._s(t.card.placement)+"\n      ")]):t._e()]),t._v(" "),void 0!==t.card.cost?n("p",{staticClass:"card-text"},[t._v("Cost: "),n("my-card-text",{attrs:{text:"<i>"+t.card.cost+"</i>"}})],1):t._e(),t._v(" "),t._l(t.textLines,function(t,e){return n("my-card-text-block",{key:e,attrs:{text:t}})}),t._v(" "),t.card.is_unit?n("p",{staticClass:"card-text"},[t._v("Attack "+t._s(t.card.attack)+" ◇ Life "+t._s(t.card.life)+" ◇ Recover "+t._s(t.card.recover))]):t._e(),t._v(" "),t.card.is_phoenixborn?n("p",{staticClass:"card-text"},[t._v("Battlefield "+t._s(t.card.battlefield)+" ◇ Life "+t._s(t.card.lifepool)+" ◇ Spellboard "+t._s(t.card.spellboard))]):t._e(),t._v(" "),t.card.is_spell_alteration?n("p",{staticClass:"card-text"},[t._v("Attack "+t._s(t.card.attack_mod)+" ◇ Life "+t._s(t.card.life_mod)+" ◇ Recover "+t._s(t.card.recover_mod))]):t._e()],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",[n("div",{staticClass:"form-group"},[n("form",{on:{submit:function(e){e.preventDefault(),t.filter(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentQuery,expression:"currentQuery"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter query"},domProps:{value:t.currentQuery},on:{input:function(e){e.target.composing||(t.currentQuery=e.target.value)}}}),t._v(" "),n("small",{staticClass:"form-text text-muted"},[t._v("Search by name. Prefix with 'x:' to search by text, 'p:' by pack, 'c:' by cycle, 'd:' by dice, 'a:' by attack, 'l:' by life, 'r:' by recover, 'u:1' for units, 's:1' for spells, 'pb:1' for Phoenixborns.")])])])]),t._v(" "),n("b-pagination",{staticClass:"my-3 justify-content-center",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,size:"md"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),t._v(" "),t._l(t.cards,function(e){return n("div",{staticClass:"row"},[n("div",{staticClass:"col-7"},[n("my-card-card",{attrs:{card:e}})],1),t._v(" "),n("div",{staticClass:"col-5"},[n("img",{attrs:{src:t.getCardImageURL(e)}})])])})],2)},staticRenderFns:[]}},,,,function(t,e){}],[52]);
//# sourceMappingURL=app.b109d610200c55c7ddff.js.map